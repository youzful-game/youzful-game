(()=>{"use strict";var t={764:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s,"__esModule",{value:!0});const l=o(e(260)),u=e(806),h=a(e(976)),d=a(e(981)),r=a(e(2)),c=a(e(156)),f=a(e(12)),b={active:!1,key:"BLANKGameState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class p extends l.Scene{constructor(){super(b),this.lives=3,this.level=1,this.levelWidth=8,this.levelHeight=5,this.lfbWon=!1,this.yaplaWon=!1,this.klsWon=!1,this.blankWon=!1}init({musicOn:t,lfbWon:s,yaplaWon:e,klsWon:i,blankWon:n}){this.musicOn=t,this.lfbWon=s,this.yaplaWon=e,this.klsWon=i,this.blankWon=n}create(){this.initUi(),this.initGameObjects(),this.initAudio(),this.changeLevel()}initUi(){this.add.image(275,200,"img_background"),this.buttonSoundOn=this.add.sprite(480,30,"sound_on"),this.buttonSoundOn.setInteractive({useHandCursor:!0}),this.buttonSoundOn.on("pointerdown",(()=>this.toggleAudio()),this),this.buttonSoundOff=this.add.sprite(480,30,"sound_off"),this.buttonSoundOff.setInteractive({useHandCursor:!0}),this.buttonSoundOff.on("pointerdown",(()=>this.toggleAudio()),this),this.musicOn?(this.buttonSoundOn.visible=!0,this.buttonSoundOff.visible=!1):(this.buttonSoundOff.visible=!0,this.buttonSoundOn.visible=!1),this.levelText=this.add.text(150,17,"LEVEL : ENJOY YOUZFUL",{fill:"#92cd00",fontFamily:"gotham",fontSize:"24px"}),this.livesText=this.add.text(4,17,`LIVES : ${this.lives}`,{fill:"#92cd00",fontFamily:"gotham",fontSize:"24px"})}initGameObjects(){this.lava=new d.default(this,275,390),this.add.existing(this.lava),this.bricks=new l.Physics.Arcade.StaticGroup(this.physics.world,this),this.balls=new l.Physics.Arcade.Group(this.physics.world,this),this.powerups=new l.Physics.Arcade.Group(this.physics.world,this),this.bar=new r.default(this,275,340,1)}initAudio(){this.sfxSpeedUp=this.sound.add("speed_up"),this.sfxSlowDown=this.sound.add("slow_down"),this.sfxSmaller=this.sound.add("smaller"),this.sfxMultiball=this.sound.add("multiball"),this.sfxBigger=this.sound.add("bigger"),this.sfxBounce=this.sound.add("bounce"),this.sfxBreak=this.sound.add("break"),this.sfxDirt=this.sound.add("dirt"),this.sfxExplode=this.sound.add("explode"),this.sfxMusic=this.sound.add("music_BLANK"),this.sfxMusic.play(),this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0,this.sfxMusic.setLoop(!0));const t=this.sound.add("lava");this.musicOn&&t.play()}toggleAudio(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.musicOn?(this.sfxMusic.mute=!0,this.musicOn=!1,this.buttonSoundOn instanceof l.GameObjects.Sprite&&(this.buttonSoundOn.visible=!1),this.buttonSoundOff instanceof l.GameObjects.Sprite&&(this.buttonSoundOff.visible=!0)):(this.sfxMusic.mute=!1,this.musicOn=!0,this.buttonSoundOn instanceof l.GameObjects.Sprite&&(this.buttonSoundOn.visible=!0),this.buttonSoundOff instanceof l.GameObjects.Sprite&&(this.buttonSoundOff.visible=!1)))}endLevel(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.blankWon=!0,this.scene.start("LevelClearedState",{musicOn:this.musicOn,startup:"blank",lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}changeLevel(){this.level<=10&&(this.lava.lavaEmitter.setSpeed({max:100+10*this.level,min:50+10*this.level}),this.lava.lavaEmitter.setLifespan({max:500+50*this.level,min:100+30*this.level})),this.bar.setBarSize(0),this.balls.clear(!0,!0),this.createBall(275,300,!0),this.bricks.clear(!0,!0),this.makeBricks(this.levelWidth,this.levelHeight),this.powerups.clear(!0,!0),this.createColliders()}createColliders(){this.createCollider(this.bricks,this.balls,this.collideBrickBall.bind(this)),this.createCollider(this.balls,this.bar,this.collideBallBar.bind(this)),this.createCollider(this.powerups,this.bar,this.collidePowerupBar.bind(this)),this.createCollider(this.balls,this.lava,this.collideBallLava.bind(this)),this.createCollider(this.powerups,this.lava,this.collidePowerupLava.bind(this))}createCollider(t,s,e){this.physics.add.collider(t,s,e,void 0,this)}makeBricks(t,s){let e=0;for(let i=0;i<t;i+=1)for(let t=0;t<s;t+=1){if(0===t&&0!==i&&2!==i&&5!==i&&6!==i&&7!==i)continue;if(1===t&&0!==i&&2!==i&&7!==i)continue;if(2===t&&0!==i&&1!==i&&2!==i&&6!==i)continue;if(3===t&&1!==i&&5!==i)continue;if(4===t&&1!==i&&5!==i&&6!==i&&7!==i)continue;const s=["blue","brown","red","yellow"],n=l.Math.Between(0,3);let o=null;1===l.Math.Between(0,10)?(o=new h.default(this,0,0,"white"),e+=1):n<4&&(o=new h.default(this,0,0,s[n])),o&&(o.x=45+64*i,o.y=70+24*t,this.bricks.add(o))}e>0||(this.bricks.clear(!0,!0),this.makeBricks(t,s))}update(){this.bar.update(),this.lives<=0&&(this.sfxMusic.stop(),this.lives=3,this.sfxMusic instanceof l.Sound.WebAudioSound&&(u.GameAnalytics.addProgressionEvent(u.EGAProgressionStatus.Fail,"blank"),this.scene.start("GameOverState",{musicOn:this.musicOn,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))),this.bricks.getLength()<=0&&this.endLevel(),this.balls.getChildren().forEach((t=>{t instanceof c.default&&t.isWaiting()&&(t.x=this.bar.x)})),this.livesText.setText(`LIVES : ${this.lives}`),this.levelText.setText("LEVEL : ENJOY YOUZFUL")}makeExplosion(t,s,e,i,n,o,a){const u=this.add.particles(a).createEmitter({});u.setFrame([0,1,2,3],!0),u.setSpeed(n),u.setGravity(0,o),u.setScale(.7),u.setLifespan({max:600,min:200});const h={quantity:1,source:new l.Geom.Rectangle(-e/2,-i/2,e,i),type:"random"};u.setEmitZone(h),u.explode(10,t,s)}createPowerup(t,s,e,i,n){const o=new f.default(this,t,s,e);this.powerups.add(o),o.body instanceof l.Physics.Arcade.Body&&o.body.setVelocity(i,n)}createBall(t,s,e){const i=new c.default(this,t,s,e);return this.balls.add(i),i.body instanceof l.Physics.Arcade.Body&&(i.body.setCollideWorldBounds(!0),i.body.setVelocity(0),i.body.bounce.setTo(1,1)),i}collideBrickBall(t){if(!(t instanceof h.default))return;const{x:s,y:e,width:i,height:n}=t;switch(t.getBrickType()){case"blue":this.makeExplosion(s,e,i,n,100,80,"img_particles_blue");break;case"brown":this.musicOn&&this.sfxDirt.play(),this.makeExplosion(s,e,i,n,40,50,"img_particles_brown");break;case"red":this.makeExplosion(s,e,i,n,80,80,"img_particles_red"),this.bricks.add(new h.default(this,s,e,"blue"));break;case"yellow":this.musicOn&&this.sfxExplode.play(),this.makeExplosion(s,e,i,n,200,50,"img_particles_yellow");break;case"white":this.makeExplosion(s,e,i,n,50,70,"img_particles_white"),this.createPowerup(s,e,(()=>{const t=["slow","fast","multi","big","small"];return t[l.Math.Between(0,t.length-1)]})(),0,60);break;default:console.warn("Invalid brick id ",t.getBrickType())}this.musicOn&&(this.sfxBounce.play(),this.sfxBreak.play()),this.bricks.remove(t,!0,!0)}collideBallBar(t,s){t instanceof r.default&&s instanceof c.default&&(this.musicOn&&this.sfxBounce.play(),s.hitBar(t.x))}collidePowerupBar(t,s){if(t instanceof r.default&&s instanceof f.default){switch(s.getType()){case"slow":this.balls.getChildren().forEach((t=>{t instanceof c.default&&t.body instanceof l.Physics.Arcade.Body&&t.body.setVelocity(.8*t.body.velocity.x,.8*t.body.velocity.y)})),this.musicOn&&this.sfxSlowDown.play();break;case"fast":this.balls.getChildren().forEach((t=>{t instanceof c.default&&t.body instanceof l.Physics.Arcade.Body&&t.body.setVelocity(1.2*t.body.velocity.x,1.2*t.body.velocity.y)})),this.musicOn&&this.sfxSpeedUp.play();break;case"multi":this.balls.getChildren().forEach((t=>{if(t instanceof c.default&&t.body instanceof l.Physics.Arcade.Body&&!t.waiting){const s=this.createBall(t.x,t.y,!1);s.body instanceof l.Physics.Arcade.Body&&s.body.setVelocity(-t.body.velocity.x,t.body.velocity.y)}})),this.musicOn&&this.sfxMultiball.play();break;case"big":t.setBarSize(1),this.musicOn&&this.sfxBigger.play();break;case"small":t.setBarSize(-1),this.musicOn&&this.sfxSmaller.play();break;default:console.warn("Invalid powerup id ",s.getType())}this.powerups.remove(s,!0,!0)}}collideBallLava(t,s){s instanceof c.default&&(this.balls.remove(s,!0,!0),0===this.balls.getLength()&&(this.createBall(275,300,!0),this.removeLife()))}collidePowerupLava(t,s){s instanceof f.default&&this.powerups.remove(s,!0,!0)}removeLife(){this.lives-=1}}s.default=p},156:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s};Object.defineProperty(s,"__esModule",{value:!0});const a=o(e(260));class l extends a.Physics.Arcade.Sprite{constructor(t,s,e,i){super(t,s,e,""),this.waiting=!1,t.add.existing(this),t.physics.world.enable(this),this.body.setSize(10,10),this.body.setOffset(0,0),this.body.onCollide=!0,this.waiting=i,super.setTexture("img_ball"),t.input.on("pointerdown",this.launchBall.bind(this),this),t.input.keyboard.on("keydown_SPACE",this.launchBall.bind(this),this)}hitBar(t){const{body:s}=this;s instanceof a.Physics.Arcade.StaticBody||s.setVelocityX(this.body.velocity.x+3*(this.x-t))}isWaiting(){return this.waiting}launchBall(){this.body instanceof a.Physics.Arcade.StaticBody||!this.waiting||(this.body.setVelocity(a.Math.Between(-100,100),-200),this.waiting=!1)}}s.default=l},2:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s};Object.defineProperty(s,"__esModule",{value:!0});const a=o(e(260)),l={0:"img_bar_small",1:"img_bar",2:"img_bar_big"};class u extends a.Physics.Arcade.Sprite{constructor(t,s,e,i){super(t,s,e,""),this.size=0,t.add.existing(this),t.physics.world.enable(this),this.body instanceof a.Physics.Arcade.Body&&(this.body.setCollideWorldBounds(!0),this.body.setOffset(0,0),this.body.setImmovable(!0),this.body.allowRotation=!1),this.size=i,this.setBarSize(0),t.input.on("pointermove",(t=>{this.setPosition(t.x,this.y)}),this),this.arrowKeys=t.input.keyboard.createCursorKeys()}setBarSize(t){switch(this.size+t>-1&&this.size+t<3&&(this.size+=t),super.setTexture(l[this.size]),this.size){case 0:this.body.setSize(60,16);break;case 1:this.body.setSize(90,16);break;case 2:this.body.setSize(140,16);break;default:this.body.setSize(90,16)}}update(){var t,s,e,i;null!==(s=null===(t=this.arrowKeys.left)||void 0===t?void 0:t.isDown)&&void 0!==s&&s?this.x-=6:null!==(i=null===(e=this.arrowKeys.right)||void 0===e?void 0:e.isDown)&&void 0!==i&&i&&(this.x+=6)}}s.default=u},548:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s};Object.defineProperty(s,"__esModule",{value:!0});const a=o(e(260)),l={active:!1,key:"BonusSelectState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class u extends a.Scene{constructor(){super(l),this.lfbWon=!1,this.yaplaWon=!1,this.klsWon=!1,this.blankWon=!1,this.musicOn=!0}init({musicOn:t,lfbWon:s,yaplaWon:e,klsWon:i,blankWon:n}){this.musicOn=t,this.lfbWon=s,this.yaplaWon=e,this.klsWon=i,this.blankWon=n}create(){this.add.image(275,200,"img_background"),this.add.image(275,100,"img_bonus_title");const t=this.add.sprite(275,170,"img_button_play_LFB");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.startLFBRewardState()),this);const s=this.add.sprite(275,215,"img_button_play_YAPLA");s.setInteractive({useHandCursor:!0}),s.on("pointerdown",(()=>this.startYAPLARewardState()),this);const e=this.add.sprite(275,260,"img_button_play_KLS");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.startKLSRewardState()),this);const i=this.add.sprite(275,305,"img_button_play_BLANK");i.setInteractive({useHandCursor:!0}),i.on("pointerdown",(()=>this.startBLANKRewardState()),this);const n=this.add.sprite(275,350,"img_button_back");n.setInteractive({useHandCursor:!0}),n.on("pointerdown",(()=>this.startLevelsState()),this),this.buttonSoundOn=this.add.sprite(480,30,"sound_on"),this.buttonSoundOn.setInteractive({useHandCursor:!0}),this.buttonSoundOn.on("pointerdown",(()=>this.toggleAudio()),this),this.buttonSoundOff=this.add.sprite(480,30,"sound_off"),this.buttonSoundOff.setInteractive({useHandCursor:!0}),this.buttonSoundOff.on("pointerdown",(()=>this.toggleAudio()),this),this.musicOn?(this.buttonSoundOn.visible=!0,this.buttonSoundOff.visible=!1):(this.buttonSoundOff.visible=!0,this.buttonSoundOn.visible=!1),this.initAudio()}startLFBRewardState(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("RewardState",{musicOn:this.musicOn,startup:"lfb",backToVideoSelectState:!1,backToBonusSelectState:!0,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}startYAPLARewardState(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("RewardState",{musicOn:this.musicOn,startup:"yapla",backToVideoSelectState:!1,backToBonusSelectState:!0,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}startKLSRewardState(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("RewardState",{musicOn:this.musicOn,startup:"kls",backToVideoSelectState:!1,backToBonusSelectState:!0,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}startBLANKRewardState(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("RewardState",{musicOn:this.musicOn,startup:"blank",backToVideoSelectState:!1,backToBonusSelectState:!0,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}startLevelsState(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelsState",{musicOn:this.musicOn,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}initAudio(){this.sfxMusic=this.sound.add("music_levels"),this.sfxMusic.play(),this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0,this.sfxMusic.setLoop(!0))}toggleAudio(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.musicOn?(this.sfxMusic.mute=!0,this.musicOn=!1,this.buttonSoundOn instanceof a.GameObjects.Sprite&&(this.buttonSoundOn.visible=!1),this.buttonSoundOff instanceof a.GameObjects.Sprite&&(this.buttonSoundOff.visible=!0)):(this.sfxMusic.mute=!1,this.musicOn=!0,this.buttonSoundOn instanceof a.GameObjects.Sprite&&(this.buttonSoundOn.visible=!0),this.buttonSoundOff instanceof a.GameObjects.Sprite&&(this.buttonSoundOff.visible=!1)))}}s.default=u},976:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s};Object.defineProperty(s,"__esModule",{value:!0});const a=o(e(260)),l={blue:"img_brick_blue",brown:"img_brick_brown",red:"img_brick_red",white:"img_brick_white",yellow:"img_brick_yellow"};class u extends a.Physics.Arcade.Sprite{constructor(t,s,e,i){super(t,s,e,""),t.add.existing(this),t.physics.world.enable(this),this.body instanceof a.Physics.Arcade.Body&&(this.body.setCollideWorldBounds(!0),this.body.setSize(64,24),this.body.setOffset(-2,-2),this.body.setImmovable(!0),this.body.onCollide=!0),this.brickType=i,super.setTexture(l[this.brickType])}getBrickType(){return this.brickType}isSpecial(){return"white"===this.brickType}}s.default=u},367:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s,"__esModule",{value:!0});const l=o(e(260)),u=a(e(981)),h={active:!1,key:"GameOverState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class d extends l.Scene{constructor(){super(h),this.musicOn=!0,this.lfbWon=!1,this.yaplaWon=!1,this.klsWon=!1,this.blankWon=!1}init({musicOn:t,lfbWon:s,yaplaWon:e,klsWon:i,blankWon:n}){this.musicOn=t,this.lfbWon=s,this.yaplaWon=e,this.klsWon=i,this.blankWon=n}create(){this.add.image(275,200,"img_background"),this.add.existing(new u.default(this,275,390)),this.add.sprite(275,120,"img_game_over");const t=this.add.sprite(275,300,"img_button_try_again");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.startLevelsState()),this),this.buttonSoundOn=this.add.sprite(480,30,"sound_on"),this.buttonSoundOn.setInteractive({useHandCursor:!0}),this.buttonSoundOn.on("pointerdown",(()=>this.toggleAudio()),this),this.buttonSoundOff=this.add.sprite(480,30,"sound_off"),this.buttonSoundOff.setInteractive({useHandCursor:!0}),this.buttonSoundOff.on("pointerdown",(()=>this.toggleAudio()),this),this.musicOn?(this.buttonSoundOn.visible=!0,this.buttonSoundOff.visible=!1):(this.buttonSoundOff.visible=!0,this.buttonSoundOn.visible=!1),this.initAudio()}startLevelsState(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelsState",{musicOn:this.musicOn,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}initAudio(){this.sfxMusic=this.sound.add("music_levels"),this.sfxMusic.play(),this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0,this.sfxMusic.setLoop(!0))}toggleAudio(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.musicOn?(this.sfxMusic.mute=!0,this.musicOn=!1,this.buttonSoundOn instanceof l.GameObjects.Sprite&&(this.buttonSoundOn.visible=!1),this.buttonSoundOff instanceof l.GameObjects.Sprite&&(this.buttonSoundOff.visible=!0)):(this.sfxMusic.mute=!1,this.musicOn=!0,this.buttonSoundOn instanceof l.GameObjects.Sprite&&(this.buttonSoundOn.visible=!0),this.buttonSoundOff instanceof l.GameObjects.Sprite&&(this.buttonSoundOff.visible=!1)))}}s.default=d},263:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s,"__esModule",{value:!0});const l=o(e(260)),u=a(e(976)),h=a(e(981)),d=a(e(2)),r=a(e(156)),c=a(e(12)),f={active:!1,key:"GameState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class b extends l.Scene{constructor(){super(f),this.lives=3,this.level=1,this.score=0,this.levelWidth=8,this.levelHeight=2}create(){this.initUi(),this.initGameObjects(),this.initAudio(),this.changeLevel()}initUi(){this.add.image(275,200,"img_background"),this.add.image(55,20,"img_info_bar"),this.add.image(495,20,"img_info_bar"),this.levelText=this.add.text(458,12,`level: ${this.level}`,{fill:"#000",fontSize:"16px"}),this.livesText=this.add.text(18,12,`lives: ${this.lives}`,{fill:"#000",fontSize:"16px"})}initGameObjects(){this.lava=new h.default(this,275,390),this.add.existing(this.lava),this.bricks=new l.Physics.Arcade.StaticGroup(this.physics.world,this),this.balls=new l.Physics.Arcade.Group(this.physics.world,this),this.powerups=new l.Physics.Arcade.Group(this.physics.world,this),this.bar=new d.default(this,275,340,1)}initAudio(){this.sfxSpeedUp=this.sound.add("speed_up"),this.sfxSlowDown=this.sound.add("slow_down"),this.sfxSmaller=this.sound.add("smaller"),this.sfxMultiball=this.sound.add("multiball"),this.sfxBigger=this.sound.add("bigger"),this.sfxBounce=this.sound.add("bounce"),this.sfxBreak=this.sound.add("break"),this.sfxDirt=this.sound.add("dirt"),this.sfxExplode=this.sound.add("explode"),this.sfxMusic=this.sound.add("music"),this.sfxMusic.play(),this.sfxMusic instanceof l.Sound.WebAudioSound&&this.sfxMusic.setLoop(!0),this.sound.add("lava").play()}changeLevel(){this.level<=10&&(this.level<9&&(this.levelHeight=this.level+1),this.lava.lavaEmitter.setSpeed({max:100+10*this.level,min:50+10*this.level}),this.lava.lavaEmitter.setLifespan({max:500+50*this.level,min:100+30*this.level})),this.bar.setBarSize(0),this.balls.clear(!0,!0),this.createBall(275,300,!0),this.bricks.clear(!0,!0),this.makeBricks(this.levelWidth,this.levelHeight),this.powerups.clear(!0,!0),this.createColliders()}createColliders(){this.createCollider(this.bricks,this.balls,this.collideBrickBall.bind(this)),this.createCollider(this.balls,this.bar,this.collideBallBar.bind(this)),this.createCollider(this.powerups,this.bar,this.collidePowerupBar.bind(this)),this.createCollider(this.balls,this.lava,this.collideBallLava.bind(this)),this.createCollider(this.powerups,this.lava,this.collidePowerupLava.bind(this))}createCollider(t,s,e){this.physics.add.collider(t,s,e,void 0,this)}makeBricks(t,s){for(let e=0;e<t;e+=1)for(let t=0;t<s;t+=1){const s=["blue","brown","red","yellow"],i=l.Math.Between(0,(this.level-1)%(s.length+1)+1);let n=null;1===l.Math.Between(0,10)?n=new u.default(this,0,0,"white"):i<4&&(n=new u.default(this,0,0,s[i])),n&&(n.x=45+64*e,n.y=70+24*t,this.bricks.add(n))}}update(){this.bar.update(),this.lives<=0&&(this.sfxMusic.stop(),this.scene.start("GameOverState",{level:this.level,score:this.score})),this.bricks.getLength()<=0&&(this.level+=1,this.changeLevel()),this.balls.getChildren().forEach((t=>{t instanceof r.default&&t.isWaiting()&&(t.x=this.bar.x)})),this.livesText.setText(`LIVES: ${this.lives}`),this.levelText.setText(`LEVEL: ${this.level}`)}makeExplosion(t,s,e,i,n,o,a){const u=this.add.particles(a).createEmitter({});u.setFrame([0,1,2,3],!0),u.setSpeed(n),u.setGravity(0,o),u.setScale(.7),u.setLifespan({max:600,min:200});const h={quantity:1,source:new l.Geom.Rectangle(-e/2,-i/2,e,i),type:"random"};u.setEmitZone(h),u.explode(10,t,s)}createPowerup(t,s,e,i,n){const o=new c.default(this,t,s,e);this.powerups.add(o),o.body instanceof l.Physics.Arcade.Body&&o.body.setVelocity(i,n)}createBall(t,s,e){const i=new r.default(this,t,s,e);return this.balls.add(i),i.body instanceof l.Physics.Arcade.Body&&(i.body.setCollideWorldBounds(!0),i.body.setVelocity(0),i.body.bounce.setTo(1,1)),i}collideBrickBall(t){if(!(t instanceof u.default))return;const{x:s,y:e,width:i,height:n}=t;switch(t.getBrickType()){case"blue":this.makeExplosion(s,e,i,n,100,80,"img_particles_blue");break;case"brown":this.sfxDirt.play(),this.makeExplosion(s,e,i,n,40,50,"img_particles_brown");break;case"red":this.makeExplosion(s,e,i,n,80,80,"img_particles_red"),this.bricks.add(new u.default(this,s,e,"blue"));break;case"yellow":this.sfxExplode.play(),this.makeExplosion(s,e,i,n,200,50,"img_particles_yellow");break;case"white":this.makeExplosion(s,e,i,n,50,70,"img_particles_white"),this.createPowerup(s,e,(()=>{const t=["slow","fast","multi","big","small"];return t[l.Math.Between(0,t.length-1)]})(),0,60);break;default:console.warn("Invalid brick id ",t.getBrickType())}this.sfxBounce.play(),this.sfxBreak.play(),this.score+=1,this.bricks.remove(t,!0,!0)}collideBallBar(t,s){t instanceof d.default&&s instanceof r.default&&(this.sfxBounce.play(),s.hitBar(t.x))}collidePowerupBar(t,s){if(t instanceof d.default&&s instanceof c.default){switch(s.getType()){case"slow":this.balls.getChildren().forEach((t=>{t instanceof r.default&&t.body instanceof l.Physics.Arcade.Body&&t.body.setVelocity(.8*t.body.velocity.x,.8*t.body.velocity.y)})),this.sfxSlowDown.play();break;case"fast":this.balls.getChildren().forEach((t=>{t instanceof r.default&&t.body instanceof l.Physics.Arcade.Body&&t.body.setVelocity(1.2*t.body.velocity.x,1.2*t.body.velocity.y)})),this.sfxSpeedUp.play();break;case"multi":this.balls.getChildren().forEach((t=>{if(t instanceof r.default&&t.body instanceof l.Physics.Arcade.Body){const s=this.createBall(t.x,t.y,!1);s.body instanceof l.Physics.Arcade.Body&&s.body.setVelocity(-t.body.velocity.x,t.body.velocity.y)}})),this.sfxMultiball.play();break;case"big":t.setBarSize(1),this.sfxBigger.play();break;case"small":t.setBarSize(-1),this.sfxSmaller.play();break;default:console.warn("Invalid powerup id ",s.getType())}this.powerups.remove(s,!0,!0)}}collideBallLava(t,s){s instanceof r.default&&(this.balls.remove(s,!0,!0),0===this.balls.getLength()&&(this.createBall(275,300,!0),this.removeLife()))}collidePowerupLava(t,s){s instanceof c.default&&this.powerups.remove(s,!0,!0)}removeLife(){this.lives-=1}}s.default=b},354:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s};Object.defineProperty(s,"__esModule",{value:!0});const a=o(e(260)),l={active:!1,key:"HelpState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class u extends a.Scene{constructor(){super(l),this.musicOn=!0}init({musicOn:t}){this.musicOn=t}create(){this.add.image(275,200,"img_background"),this.add.image(275,100,"img_help"),this.time.addEvent({callback:()=>{this.add.image(275,200,"help_text_1")},delay:300,loop:!1}),this.time.addEvent({callback:()=>{this.add.image(275,250,"help_text_2")},delay:2e3,loop:!1}),this.time.addEvent({callback:()=>{this.startLevelsState()},delay:4e3,loop:!1}),this.buttonSoundOn=this.add.sprite(480,30,"sound_on"),this.buttonSoundOn.setInteractive({useHandCursor:!0}),this.buttonSoundOn.on("pointerdown",(()=>this.toggleAudio()),this),this.buttonSoundOff=this.add.sprite(480,30,"sound_off"),this.buttonSoundOff.setInteractive({useHandCursor:!0}),this.buttonSoundOff.on("pointerdown",(()=>this.toggleAudio()),this),this.musicOn?(this.buttonSoundOn.visible=!0,this.buttonSoundOff.visible=!1):(this.buttonSoundOff.visible=!0,this.buttonSoundOn.visible=!1)}startLevelsState(){this.scene.start("LevelsState",{musicOn:this.musicOn,lfbWon:!1,yaplaWon:!1,klsWon:!1,blankWon:!1})}toggleAudio(){this.musicOn?(this.musicOn=!1,this.buttonSoundOn instanceof a.GameObjects.Sprite&&(this.buttonSoundOn.visible=!1),this.buttonSoundOff instanceof a.GameObjects.Sprite&&(this.buttonSoundOff.visible=!0)):(this.musicOn=!0,this.buttonSoundOn instanceof a.GameObjects.Sprite&&(this.buttonSoundOn.visible=!0),this.buttonSoundOff instanceof a.GameObjects.Sprite&&(this.buttonSoundOff.visible=!1))}}s.default=u},770:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s};Object.defineProperty(s,"__esModule",{value:!0});const a=o(e(260)),l=e(806),u=e(688),h={active:!1,key:"InitState"};class d extends a.Scene{constructor(){super(h)}preload(){this.initAnalytics(),this.createLoadingScreen(),this.loadSprites(),this.loadSpriteSheets(),this.loadAudio(),this.loadVideos()}initAnalytics(){l.GameAnalytics.configureBuild("1.0"),l.GameAnalytics.initialize("d85122edcecca9de04591ba89c7a7fa8","9da1740eebeecf6a8865be43d155c9424562052a")}createLoadingScreen(){this.load.baseURL=u.baseURL,this.add.image(275,200,"img_load");const t=this.add.graphics();t.fillStyle(11184810,.8),t.fillRect(215,320,110,10);const s=this.add.graphics(),{height:e,width:i}=this.cameras.main;this.make.text({style:{fill:"#92cd00",fontFamily:"gotham",fontSize:"20px"},text:"Loading...",x:i/2,y:e/2+150}).setOrigin(.5,.5),this.load.on("progress",(t=>{s.clear(),s.fillStyle(16777215,1),s.fillRect(217,322,106*t,6)}))}loadSprites(){this.load.image("img_lava","assets/img/lava.png"),this.load.spritesheet("img_lava_particle","assets/img/lava_bubble.png",{frameHeight:8,frameWidth:8}),this.load.image("img_button_play","assets/img/button_play.png"),this.load.image("img_button_help","assets/img/button_help.png"),this.load.image("img_button_back","assets/img/button_back.png"),this.load.image("img_button_play","assets/img/button_play.png"),this.load.image("img_button_play_LFB","assets/img/lfb.png"),this.load.image("img_button_play_YAPLA","assets/img/yapla.png"),this.load.image("img_button_play_KLS","assets/img/kls.png"),this.load.image("img_button_play_BLANK","assets/img/blank.png"),this.load.image("img_button_play_JSE","assets/img/jse.png"),this.load.image("img_button_bonus","assets/img/img_button_bonus.png"),this.load.image("img_button_try_again","assets/img/try_again.png"),this.load.image("sound_on","assets/img/sound_on.png"),this.load.image("sound_off","assets/img/sound_off.png"),this.load.image("check","assets/img/check.png"),this.load.image("help_text_1","assets/img/help_text_1.png"),this.load.image("help_text_2","assets/img/help_text_2.png"),this.load.image("img_button_all_videos","assets/img/img_button_all_videos.png"),this.load.image("img_button_external_link","assets/img/img_button_external_link.png"),this.load.image("img_background","assets/img/back.png"),this.load.image("img_help","assets/img/help.png"),this.load.image("img_title","assets/img/title.png"),this.load.image("img_levels_title","assets/img/levels_title.png"),this.load.image("img_level_cleared","assets/img/level_cleared.png"),this.load.image("img_bonus_title","assets/img/img_bonus_title.png"),this.load.image("img_videos_title","assets/img/img_videos_title.png"),this.load.image("img_brick_blue","assets/img/bricks/blue.png"),this.load.image("img_brick_brown","assets/img/bricks/brown.png"),this.load.image("img_brick_red","assets/img/bricks/red.png"),this.load.image("img_brick_yellow","assets/img/bricks/yellow.png"),this.load.image("img_brick_white","assets/img/bricks/white.png"),this.load.image("img_info_bar","assets/img/info_bar.png"),this.load.image("img_game_over","assets/img/game_over.png"),this.load.image("img_ball_fire","assets/img/ball_fire.png"),this.load.image("img_ball","assets/img/ball.png"),this.load.image("img_bar","assets/img/bar/bar.png"),this.load.image("img_bar_small","assets/img/bar/bar_small.png"),this.load.image("img_bar_big","assets/img/bar/bar_big.png"),this.load.image("img_powerup_ball_fast","assets/img/powerup/ball_fast.png"),this.load.image("img_powerup_ball_fire","assets/img/powerup/ball_fire.png"),this.load.image("img_powerup_ball_slow","assets/img/powerup/ball_slow.png"),this.load.image("img_powerup_ball_multi","assets/img/powerup/ball_multi.png"),this.load.image("img_powerup_bar_big","assets/img/powerup/bar_big.png"),this.load.image("img_powerup_bar_small","assets/img/powerup/bar_small.png"),this.load.image("img_powerup_error","assets/img/powerup/error.png")}loadSpriteSheets(){this.load.spritesheet("img_particles_blue","assets/img/bricks/particles_blue.png",{frameHeight:20,frameWidth:20}),this.load.spritesheet("img_particles_brown","assets/img/bricks/particles_brown.png",{frameHeight:20,frameWidth:20}),this.load.spritesheet("img_particles_red","assets/img/bricks/particles_red.png",{frameHeight:20,frameWidth:20}),this.load.spritesheet("img_particles_yellow","assets/img/bricks/particles_yellow.png",{frameHeight:20,frameWidth:20}),this.load.spritesheet("img_particles_white","assets/img/bricks/particles_white.png",{frameHeight:20,frameWidth:20})}loadAudio(){this.load.audio("music_menu","assets/sfx/menu.mp3"),this.load.audio("music_levels","assets/sfx/menu.mp3"),this.load.audio("music_LFB","assets/sfx/lfb.mp3"),this.load.audio("music_YAPLA","assets/sfx/yapla.mp3"),this.load.audio("music_KLS","assets/sfx/kls.mp3"),this.load.audio("music_BLANK","assets/sfx/blank.mp3"),this.load.audio("music_JSE","assets/sfx/lfb.mp3"),this.load.audio("music_game_over","assets/sfx/menu.mp3"),this.load.audio("bigger","assets/sfx/bigger.mp3"),this.load.audio("bounce","assets/sfx/bounce.mp3"),this.load.audio("break","assets/sfx/break.mp3"),this.load.audio("dirt","assets/sfx/dirt.mp3"),this.load.audio("explode","assets/sfx/explode.mp3"),this.load.audio("lava","assets/sfx/lava.mp3"),this.load.audio("multiball","assets/sfx/multiball.mp3"),this.load.audio("smaller","assets/sfx/smaller.mp3"),this.load.audio("slow_down","assets/sfx/slow_down.mp3"),this.load.audio("speed_up","assets/sfx/speed_up.mp3")}loadVideos(){this.load.video("lfb","assets/videos/LFB.mp4"),this.load.video("yapla","assets/videos/YAPLA.mp4"),this.load.video("kls","assets/videos/KLS.mp4"),this.load.video("blank","assets/videos/BLANK.mp4"),this.load.video("jse","assets/videos/JSE.mp4")}create(){this.scene.start("MenuState",{musicOn:!0})}}s.default=d},379:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s,"__esModule",{value:!0});const l=o(e(260)),u=e(806),h=a(e(976)),d=a(e(981)),r=a(e(2)),c=a(e(156)),f=a(e(12)),b={active:!1,key:"KLSGameState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class p extends l.Scene{constructor(){super(b),this.lives=3,this.level=1,this.levelWidth=8,this.levelHeight=3,this.lfbWon=!1,this.yaplaWon=!1,this.klsWon=!1,this.blankWon=!1}init({musicOn:t,lfbWon:s,yaplaWon:e,klsWon:i,blankWon:n}){this.musicOn=t,this.lfbWon=s,this.yaplaWon=e,this.klsWon=i,this.blankWon=n}create(){this.initUi(),this.initGameObjects(),this.initAudio(),this.changeLevel()}initUi(){this.add.image(275,200,"img_background"),this.buttonSoundOn=this.add.sprite(480,30,"sound_on"),this.buttonSoundOn.setInteractive({useHandCursor:!0}),this.buttonSoundOn.on("pointerdown",(()=>this.toggleAudio()),this),this.buttonSoundOff=this.add.sprite(480,30,"sound_off"),this.buttonSoundOff.setInteractive({useHandCursor:!0}),this.buttonSoundOff.on("pointerdown",(()=>this.toggleAudio()),this),this.musicOn?(this.buttonSoundOn.visible=!0,this.buttonSoundOff.visible=!1):(this.buttonSoundOff.visible=!0,this.buttonSoundOn.visible=!1),this.levelText=this.add.text(130,17,"LEVEL : YOUZFUL CAMPAGNE",{fill:"#92cd00",fontFamily:"gotham",fontSize:"24px"}),this.livesText=this.add.text(4,17,`lives : ${this.lives}`,{fill:"#92cd00",fontFamily:"gotham",fontSize:"24px"})}initGameObjects(){this.lava=new d.default(this,275,390),this.add.existing(this.lava),this.bricks=new l.Physics.Arcade.StaticGroup(this.physics.world,this),this.balls=new l.Physics.Arcade.Group(this.physics.world,this),this.powerups=new l.Physics.Arcade.Group(this.physics.world,this),this.bar=new r.default(this,275,340,1)}initAudio(){this.sfxSpeedUp=this.sound.add("speed_up"),this.sfxSlowDown=this.sound.add("slow_down"),this.sfxSmaller=this.sound.add("smaller"),this.sfxMultiball=this.sound.add("multiball"),this.sfxBigger=this.sound.add("bigger"),this.sfxBounce=this.sound.add("bounce"),this.sfxBreak=this.sound.add("break"),this.sfxDirt=this.sound.add("dirt"),this.sfxExplode=this.sound.add("explode"),this.sfxMusic=this.sound.add("music_KLS"),this.sfxMusic.play(),this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0,this.sfxMusic.setLoop(!0));const t=this.sound.add("lava");this.musicOn&&t.play()}toggleAudio(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.musicOn?(this.sfxMusic.mute=!0,this.musicOn=!1,this.buttonSoundOn instanceof l.GameObjects.Sprite&&(this.buttonSoundOn.visible=!1),this.buttonSoundOff instanceof l.GameObjects.Sprite&&(this.buttonSoundOff.visible=!0)):(this.sfxMusic.mute=!1,this.musicOn=!0,this.buttonSoundOn instanceof l.GameObjects.Sprite&&(this.buttonSoundOn.visible=!0),this.buttonSoundOff instanceof l.GameObjects.Sprite&&(this.buttonSoundOff.visible=!1)))}endLevel(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.klsWon=!0,this.scene.start("LevelClearedState",{musicOn:this.musicOn,startup:"kls",lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}changeLevel(){this.level<=10&&(this.lava.lavaEmitter.setSpeed({max:100+10*this.level,min:50+10*this.level}),this.lava.lavaEmitter.setLifespan({max:500+50*this.level,min:100+30*this.level})),this.bar.setBarSize(0),this.balls.clear(!0,!0),this.createBall(275,300,!0),this.bricks.clear(!0,!0),this.makeBricks(this.levelWidth,this.levelHeight),this.powerups.clear(!0,!0),this.createColliders()}createColliders(){this.createCollider(this.bricks,this.balls,this.collideBrickBall.bind(this)),this.createCollider(this.balls,this.bar,this.collideBallBar.bind(this)),this.createCollider(this.powerups,this.bar,this.collidePowerupBar.bind(this)),this.createCollider(this.balls,this.lava,this.collideBallLava.bind(this)),this.createCollider(this.powerups,this.lava,this.collidePowerupLava.bind(this))}createCollider(t,s,e){this.physics.add.collider(t,s,e,void 0,this)}makeBricks(t,s){let e=0;for(let i=0;i<t;i+=1)for(let t=0;t<s;t+=1){if(t%2==0&&i%2==1)continue;if(t%2==1&&i%2==0)continue;const s=["blue","brown","red","yellow"],n=l.Math.Between(0,3);let o=null;1===l.Math.Between(0,10)?(o=new h.default(this,0,0,"white"),e+=1):n<4&&(o=new h.default(this,0,0,s[n])),o&&(o.x=45+64*i,o.y=70+24*t,this.bricks.add(o))}e>0||(this.bricks.clear(!0,!0),this.makeBricks(t,s))}update(){this.bar.update(),this.lives<=0&&(this.sfxMusic.stop(),this.lives=3,this.sfxMusic instanceof l.Sound.WebAudioSound&&(u.GameAnalytics.addProgressionEvent(u.EGAProgressionStatus.Fail,"kls"),this.scene.start("GameOverState",{musicOn:this.musicOn,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))),this.bricks.getLength()<=0&&this.endLevel(),this.balls.getChildren().forEach((t=>{t instanceof c.default&&t.isWaiting()&&(t.x=this.bar.x)})),this.livesText.setText(`LIVES : ${this.lives}`),this.levelText.setText("LEVEL : YOUZFUL CAMPAGNE")}makeExplosion(t,s,e,i,n,o,a){const u=this.add.particles(a).createEmitter({});u.setFrame([0,1,2,3],!0),u.setSpeed(n),u.setGravity(0,o),u.setScale(.7),u.setLifespan({max:600,min:200});const h={quantity:1,source:new l.Geom.Rectangle(-e/2,-i/2,e,i),type:"random"};u.setEmitZone(h),u.explode(10,t,s)}createPowerup(t,s,e,i,n){const o=new f.default(this,t,s,e);this.powerups.add(o),o.body instanceof l.Physics.Arcade.Body&&o.body.setVelocity(i,n)}createBall(t,s,e){const i=new c.default(this,t,s,e);return this.balls.add(i),i.body instanceof l.Physics.Arcade.Body&&(i.body.setCollideWorldBounds(!0),i.body.setVelocity(0),i.body.bounce.setTo(1,1)),i}collideBrickBall(t){if(!(t instanceof h.default))return;const{x:s,y:e,width:i,height:n}=t;switch(t.getBrickType()){case"blue":this.makeExplosion(s,e,i,n,100,80,"img_particles_blue");break;case"brown":this.musicOn&&this.sfxDirt.play(),this.makeExplosion(s,e,i,n,40,50,"img_particles_brown");break;case"red":this.makeExplosion(s,e,i,n,80,80,"img_particles_red"),this.bricks.add(new h.default(this,s,e,"blue"));break;case"yellow":this.musicOn&&this.sfxExplode.play(),this.makeExplosion(s,e,i,n,200,50,"img_particles_yellow");break;case"white":this.makeExplosion(s,e,i,n,50,70,"img_particles_white"),this.createPowerup(s,e,(()=>{const t=["slow","fast","multi","big","small"];return t[l.Math.Between(0,t.length-1)]})(),0,60);break;default:console.warn("Invalid brick id ",t.getBrickType())}this.musicOn&&(this.sfxBounce.play(),this.sfxBreak.play()),this.bricks.remove(t,!0,!0)}collideBallBar(t,s){t instanceof r.default&&s instanceof c.default&&(this.musicOn&&this.sfxBounce.play(),s.hitBar(t.x))}collidePowerupBar(t,s){if(t instanceof r.default&&s instanceof f.default){switch(s.getType()){case"slow":this.balls.getChildren().forEach((t=>{t instanceof c.default&&t.body instanceof l.Physics.Arcade.Body&&t.body.setVelocity(.8*t.body.velocity.x,.8*t.body.velocity.y)})),this.musicOn&&this.sfxSlowDown.play();break;case"fast":this.balls.getChildren().forEach((t=>{t instanceof c.default&&t.body instanceof l.Physics.Arcade.Body&&t.body.setVelocity(1.2*t.body.velocity.x,1.2*t.body.velocity.y)})),this.musicOn&&this.sfxSpeedUp.play();break;case"multi":this.balls.getChildren().forEach((t=>{if(t instanceof c.default&&t.body instanceof l.Physics.Arcade.Body&&!t.waiting){const s=this.createBall(t.x,t.y,!1);s.body instanceof l.Physics.Arcade.Body&&s.body.setVelocity(-t.body.velocity.x,t.body.velocity.y)}})),this.musicOn&&this.sfxMultiball.play();break;case"big":t.setBarSize(1),this.musicOn&&this.sfxBigger.play();break;case"small":t.setBarSize(-1),this.musicOn&&this.sfxSmaller.play();break;default:console.warn("Invalid powerup id ",s.getType())}this.powerups.remove(s,!0,!0)}}collideBallLava(t,s){s instanceof c.default&&(this.balls.remove(s,!0,!0),0===this.balls.getLength()&&(this.createBall(275,300,!0),this.removeLife()))}collidePowerupLava(t,s){s instanceof f.default&&this.powerups.remove(s,!0,!0)}removeLife(){this.lives-=1}}s.default=p},732:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s,"__esModule",{value:!0});const l=o(e(260)),u=e(806),h=a(e(976)),d=a(e(981)),r=a(e(2)),c=a(e(156)),f=a(e(12)),b={active:!1,key:"LFBGameState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class p extends l.Scene{constructor(){super(b),this.lives=3,this.level=1,this.levelWidth=8,this.levelHeight=2,this.lfbWon=!1,this.yaplaWon=!1,this.klsWon=!1,this.blankWon=!1}init({musicOn:t,lfbWon:s,yaplaWon:e,klsWon:i,blankWon:n}){this.musicOn=t,this.lfbWon=s,this.yaplaWon=e,this.klsWon=i,this.blankWon=n}create(){this.initUi(),this.initGameObjects(),this.initAudio(),this.changeLevel()}initUi(){this.add.image(275,200,"img_background"),this.buttonSoundOn=this.add.sprite(480,30,"sound_on"),this.buttonSoundOn.setInteractive({useHandCursor:!0}),this.buttonSoundOn.on("pointerdown",(()=>this.toggleAudio()),this),this.buttonSoundOff=this.add.sprite(480,30,"sound_off"),this.buttonSoundOff.setInteractive({useHandCursor:!0}),this.buttonSoundOff.on("pointerdown",(()=>this.toggleAudio()),this),this.musicOn?(this.buttonSoundOn.visible=!0,this.buttonSoundOff.visible=!1):(this.buttonSoundOff.visible=!0,this.buttonSoundOn.visible=!1),this.levelText=this.add.text(130,17,"LEVEL : YOUZFUL WELCOME",{fill:"#92cd00",fontFamily:"gotham",fontSize:"24px"}),this.livesText=this.add.text(4,17,`lives : ${this.lives}`,{fill:"#92cd00",fontFamily:"gotham",fontSize:"24px"})}initGameObjects(){this.lava=new d.default(this,275,390),this.add.existing(this.lava),this.bricks=new l.Physics.Arcade.StaticGroup(this.physics.world,this),this.balls=new l.Physics.Arcade.Group(this.physics.world,this),this.powerups=new l.Physics.Arcade.Group(this.physics.world,this),this.bar=new r.default(this,275,340,1)}initAudio(){this.sfxSpeedUp=this.sound.add("speed_up"),this.sfxSlowDown=this.sound.add("slow_down"),this.sfxSmaller=this.sound.add("smaller"),this.sfxMultiball=this.sound.add("multiball"),this.sfxBigger=this.sound.add("bigger"),this.sfxBounce=this.sound.add("bounce"),this.sfxBreak=this.sound.add("break"),this.sfxDirt=this.sound.add("dirt"),this.sfxExplode=this.sound.add("explode"),this.sfxMusic=this.sound.add("music_LFB"),this.sfxMusic.play(),this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0,this.sfxMusic.setLoop(!0));const t=this.sound.add("lava");this.musicOn&&t.play()}toggleAudio(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.musicOn?(this.sfxMusic.mute=!0,this.musicOn=!1,this.buttonSoundOn instanceof l.GameObjects.Sprite&&(this.buttonSoundOn.visible=!1),this.buttonSoundOff instanceof l.GameObjects.Sprite&&(this.buttonSoundOff.visible=!0)):(this.sfxMusic.mute=!1,this.musicOn=!0,this.buttonSoundOn instanceof l.GameObjects.Sprite&&(this.buttonSoundOn.visible=!0),this.buttonSoundOff instanceof l.GameObjects.Sprite&&(this.buttonSoundOff.visible=!1)))}endLevel(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.lfbWon=!0,this.scene.start("LevelClearedState",{musicOn:this.musicOn,startup:"lfb",lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}changeLevel(){this.level<=10&&(this.level<9&&(this.levelHeight=this.level+1),this.lava.lavaEmitter.setSpeed({max:100+10*this.level,min:50+10*this.level}),this.lava.lavaEmitter.setLifespan({max:500+50*this.level,min:100+30*this.level})),this.bar.setBarSize(0),this.balls.clear(!0,!0),this.createBall(275,300,!0),this.bricks.clear(!0,!0),this.makeBricks(this.levelWidth,this.levelHeight),this.powerups.clear(!0,!0),this.createColliders()}createColliders(){this.createCollider(this.bricks,this.balls,this.collideBrickBall.bind(this)),this.createCollider(this.balls,this.bar,this.collideBallBar.bind(this)),this.createCollider(this.powerups,this.bar,this.collidePowerupBar.bind(this)),this.createCollider(this.balls,this.lava,this.collideBallLava.bind(this)),this.createCollider(this.powerups,this.lava,this.collidePowerupLava.bind(this))}createCollider(t,s,e){this.physics.add.collider(t,s,e,void 0,this)}makeBricks(t,s){for(let e=0;e<t;e+=1)for(let t=0;t<s;t+=1){const s=["blue","brown","red","yellow"],i=l.Math.Between(0,3);let n=null;1===l.Math.Between(0,10)?n=new h.default(this,0,0,"white"):i<4&&(n=new h.default(this,0,0,s[i])),n&&(n.x=45+64*e,n.y=70+24*t,this.bricks.add(n))}}update(){this.bar.update(),this.lives<=0&&(this.sfxMusic.stop(),this.lives=3,this.sfxMusic instanceof l.Sound.WebAudioSound&&(u.GameAnalytics.addProgressionEvent(u.EGAProgressionStatus.Fail,"lfb"),this.scene.start("GameOverState",{musicOn:this.musicOn,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))),this.bricks.getLength()<=0&&this.endLevel(),this.balls.getChildren().forEach((t=>{t instanceof c.default&&t.isWaiting()&&(t.x=this.bar.x)})),this.livesText.setText(`LIVES : ${this.lives}`),this.levelText.setText("LEVEL : YOUZFUL WELCOME")}makeExplosion(t,s,e,i,n,o,a){const u=this.add.particles(a).createEmitter({});u.setFrame([0,1,2,3],!0),u.setSpeed(n),u.setGravity(0,o),u.setScale(.7),u.setLifespan({max:600,min:200});const h={quantity:1,source:new l.Geom.Rectangle(-e/2,-i/2,e,i),type:"random"};u.setEmitZone(h),u.explode(10,t,s)}createPowerup(t,s,e,i,n){const o=new f.default(this,t,s,e);this.powerups.add(o),o.body instanceof l.Physics.Arcade.Body&&o.body.setVelocity(i,n)}createBall(t,s,e){const i=new c.default(this,t,s,e);return this.balls.add(i),i.body instanceof l.Physics.Arcade.Body&&(i.body.setCollideWorldBounds(!0),i.body.setVelocity(0),i.body.bounce.setTo(1,1)),i}collideBrickBall(t){if(!(t instanceof h.default))return;const{x:s,y:e,width:i,height:n}=t;switch(t.getBrickType()){case"blue":this.makeExplosion(s,e,i,n,100,80,"img_particles_blue");break;case"brown":this.musicOn&&this.sfxDirt.play(),this.makeExplosion(s,e,i,n,40,50,"img_particles_brown");break;case"red":this.makeExplosion(s,e,i,n,80,80,"img_particles_red"),this.bricks.add(new h.default(this,s,e,"blue"));break;case"yellow":this.musicOn&&this.sfxExplode.play(),this.makeExplosion(s,e,i,n,200,50,"img_particles_yellow");break;case"white":this.makeExplosion(s,e,i,n,50,70,"img_particles_white"),this.createPowerup(s,e,(()=>{const t=["slow","fast","multi","big","small"];return t[l.Math.Between(0,t.length-1)]})(),0,60);break;default:console.warn("Invalid brick id ",t.getBrickType())}this.musicOn&&(this.sfxBounce.play(),this.sfxBreak.play()),this.bricks.remove(t,!0,!0)}collideBallBar(t,s){t instanceof r.default&&s instanceof c.default&&(this.musicOn&&this.sfxBounce.play(),s.hitBar(t.x))}collidePowerupBar(t,s){if(t instanceof r.default&&s instanceof f.default){switch(s.getType()){case"slow":this.balls.getChildren().forEach((t=>{t instanceof c.default&&t.body instanceof l.Physics.Arcade.Body&&t.body.setVelocity(.8*t.body.velocity.x,.8*t.body.velocity.y)})),this.musicOn&&this.sfxSlowDown.play();break;case"fast":this.balls.getChildren().forEach((t=>{t instanceof c.default&&t.body instanceof l.Physics.Arcade.Body&&t.body.setVelocity(1.2*t.body.velocity.x,1.2*t.body.velocity.y)})),this.musicOn&&this.sfxSpeedUp.play();break;case"multi":this.balls.getChildren().forEach((t=>{if(t instanceof c.default&&t.body instanceof l.Physics.Arcade.Body&&!t.waiting){const s=this.createBall(t.x,t.y,!1);s.body instanceof l.Physics.Arcade.Body&&s.body.setVelocity(-t.body.velocity.x,t.body.velocity.y)}})),this.musicOn&&this.sfxMultiball.play();break;case"big":t.setBarSize(1),this.musicOn&&this.sfxBigger.play();break;case"small":t.setBarSize(-1),this.musicOn&&this.sfxSmaller.play();break;default:console.warn("Invalid powerup id ",s.getType())}this.powerups.remove(s,!0,!0)}}collideBallLava(t,s){s instanceof c.default&&(this.balls.remove(s,!0,!0),0===this.balls.getLength()&&(this.createBall(275,300,!0),this.removeLife()))}collidePowerupLava(t,s){s instanceof f.default&&this.powerups.remove(s,!0,!0)}removeLife(){this.lives-=1}}s.default=p},981:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s};Object.defineProperty(s,"__esModule",{value:!0});const a=o(e(260));class l extends a.Physics.Arcade.Sprite{constructor(t,s,e){super(t,s,e,"img_lava"),t.physics.world.enable(this),this.body instanceof a.Physics.Arcade.Body&&(this.body.setImmovable(!0),this.body.setSize(t.sys.game.scale.width,10),this.body.setOffset(0,10),this.body.onCollide=!0);const i=t.add.particles("img_lava_particle");this.lavaEmitter=i.createEmitter({}),this.lavaEmitter.setSpeed({max:100,min:50}),this.lavaEmitter.setGravity(0,200),this.lavaEmitter.setScale({end:.2,start:1}),this.lavaEmitter.setAngle({max:310,min:230}),this.lavaEmitter.setLifespan({max:500,min:100}),this.lavaEmitter.setFrequency(100),this.lavaEmitter.setPosition(0,380);const n={quantity:1,source:new a.Geom.Rectangle(0,0,550,1),type:"random"};this.lavaEmitter.setEmitZone(n)}}s.default=l},439:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s};Object.defineProperty(s,"__esModule",{value:!0});const a=o(e(260)),l=e(806),u={active:!1,key:"LevelClearedState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class h extends a.Scene{constructor(){super(u),this.startup="",this.lfbWon=!1,this.yaplaWon=!1,this.klsWon=!1,this.blankWon=!1}init({musicOn:t,startup:s,lfbWon:e,yaplaWon:i,klsWon:n,blankWon:o}){this.musicOn=t,this.startup=s,this.lfbWon=e,this.yaplaWon=i,this.klsWon=n,this.blankWon=o}create(){this.add.image(275,200,"img_background"),this.add.sprite(275,200,"img_level_cleared"),l.GameAnalytics.addProgressionEvent(l.EGAProgressionStatus.Complete,this.startup),this.time.addEvent({callback:()=>{this.sfxMusic instanceof a.Sound.WebAudioSound&&this.scene.start("RewardState",{musicOn:this.musicOn,startup:this.startup,backToVideoSelectState:!1,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon})},delay:1e3,loop:!1}),this.buttonSoundOn=this.add.sprite(480,30,"sound_on"),this.buttonSoundOn.setInteractive({useHandCursor:!0}),this.buttonSoundOn.on("pointerdown",(()=>this.toggleAudio()),this),this.buttonSoundOff=this.add.sprite(480,30,"sound_off"),this.buttonSoundOff.setInteractive({useHandCursor:!0}),this.buttonSoundOff.on("pointerdown",(()=>this.toggleAudio()),this),this.musicOn?(this.buttonSoundOn.visible=!0,this.buttonSoundOff.visible=!1):(this.buttonSoundOff.visible=!0,this.buttonSoundOn.visible=!1),this.initAudio()}initAudio(){this.sfxMusic=this.sound.add("music_menu"),this.sfxMusic.play(),this.sfxMusic.stop(),this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0))}toggleAudio(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.musicOn?(this.sfxMusic.mute=!0,this.musicOn=!1,this.buttonSoundOn instanceof a.GameObjects.Sprite&&(this.buttonSoundOn.visible=!1),this.buttonSoundOff instanceof a.GameObjects.Sprite&&(this.buttonSoundOff.visible=!0)):(this.sfxMusic.mute=!1,this.musicOn=!0,this.buttonSoundOn instanceof a.GameObjects.Sprite&&(this.buttonSoundOn.visible=!0),this.buttonSoundOff instanceof a.GameObjects.Sprite&&(this.buttonSoundOff.visible=!1)))}}s.default=h},992:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s};Object.defineProperty(s,"__esModule",{value:!0});const a=o(e(260)),l=e(806),u={active:!1,key:"LevelsState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class h extends a.Scene{constructor(){super(u),this.lfbWon=!1,this.yaplaWon=!1,this.klsWon=!1,this.blankWon=!1}init({musicOn:t,lfbWon:s,yaplaWon:e,klsWon:i,blankWon:n}){this.musicOn=t,this.lfbWon=s,this.yaplaWon=e,this.klsWon=i,this.blankWon=n}create(){this.add.image(275,200,"img_background"),this.add.image(275,100,"img_levels_title");const t=this.add.sprite(275,170,"img_button_play_LFB");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.startLFBGameState()),this);const s=this.add.sprite(450,170,"check");this.lfbWon?s.visible=!0:s.visible=!1;const e=this.add.sprite(275,215,"img_button_play_YAPLA");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.startYAPLAGameState()),this);const i=this.add.sprite(450,215,"check");this.yaplaWon?i.visible=!0:i.visible=!1;const n=this.add.sprite(275,260,"img_button_play_KLS");n.setInteractive({useHandCursor:!0}),n.on("pointerdown",(()=>this.startKLSGameState()),this);const o=this.add.sprite(450,260,"check");this.klsWon?o.visible=!0:o.visible=!1;const a=this.add.sprite(275,305,"img_button_play_BLANK");a.setInteractive({useHandCursor:!0}),a.on("pointerdown",(()=>this.startBLANKGameState()),this);const l=this.add.sprite(450,305,"check");if(this.blankWon?l.visible=!0:l.visible=!1,this.lfbWon||this.yaplaWon||this.klsWon||this.blankWon){const t=this.add.sprite(100,355,"img_button_all_videos");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.startVideoSelectState()),this)}if(this.lfbWon&&this.yaplaWon&&this.klsWon&&this.blankWon){const t=this.add.sprite(450,355,"img_button_bonus");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.startBonusSelectState()),this)}this.buttonSoundOn=this.add.sprite(480,30,"sound_on"),this.buttonSoundOn.setInteractive({useHandCursor:!0}),this.buttonSoundOn.on("pointerdown",(()=>this.toggleAudio()),this),this.buttonSoundOff=this.add.sprite(480,30,"sound_off"),this.buttonSoundOff.setInteractive({useHandCursor:!0}),this.buttonSoundOff.on("pointerdown",(()=>this.toggleAudio()),this),this.musicOn?(this.buttonSoundOn.visible=!0,this.buttonSoundOff.visible=!1):(this.buttonSoundOff.visible=!0,this.buttonSoundOn.visible=!1),this.initAudio()}startVideoSelectState(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("VideoSelectState",{musicOn:this.musicOn,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}startBonusSelectState(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("BonusSelectState",{musicOn:this.musicOn,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}startLFBGameState(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.sfxMusic.stop(),l.GameAnalytics.addProgressionEvent(l.EGAProgressionStatus.Start,"lfb"),this.scene.start("LFBGameState",{musicOn:this.musicOn,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}startYAPLAGameState(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.sfxMusic.stop(),l.GameAnalytics.addProgressionEvent(l.EGAProgressionStatus.Start,"yapla"),this.scene.start("YAPLAGameState",{musicOn:this.musicOn,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}startKLSGameState(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.sfxMusic.stop(),l.GameAnalytics.addProgressionEvent(l.EGAProgressionStatus.Start,"kls"),this.scene.start("KLSGameState",{musicOn:this.musicOn,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}startBLANKGameState(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.sfxMusic.stop(),l.GameAnalytics.addProgressionEvent(l.EGAProgressionStatus.Start,"blank"),this.scene.start("BLANKGameState",{musicOn:this.musicOn,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}initAudio(){this.sfxMusic=this.sound.add("music_levels"),this.sfxMusic.play(),this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0,this.sfxMusic.setLoop(!0))}toggleAudio(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.musicOn?(this.sfxMusic.mute=!0,this.musicOn=!1,this.buttonSoundOn instanceof a.GameObjects.Sprite&&(this.buttonSoundOn.visible=!1),this.buttonSoundOff instanceof a.GameObjects.Sprite&&(this.buttonSoundOff.visible=!0)):(this.sfxMusic.mute=!1,this.musicOn=!0,this.buttonSoundOn instanceof a.GameObjects.Sprite&&(this.buttonSoundOn.visible=!0),this.buttonSoundOff instanceof a.GameObjects.Sprite&&(this.buttonSoundOff.visible=!1)))}}s.default=h},557:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s};Object.defineProperty(s,"__esModule",{value:!0});const a=o(e(260)),l={active:!1,key:"MenuState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class u extends a.Scene{constructor(){super(l)}init({musicOn:t}){this.musicOn=t}create(){this.add.image(275,200,"img_background"),this.add.image(275,100,"img_title");const t=this.add.sprite(275,230,"img_button_play");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.startHelpState()),this),this.buttonSoundOn=this.add.sprite(480,30,"sound_on"),this.buttonSoundOn.setInteractive({useHandCursor:!0}),this.buttonSoundOn.on("pointerdown",(()=>this.toggleAudio()),this),this.buttonSoundOn.visible=!0,this.buttonSoundOff=this.add.sprite(480,30,"sound_off"),this.buttonSoundOff.setInteractive({useHandCursor:!0}),this.buttonSoundOff.on("pointerdown",(()=>this.toggleAudio()),this),this.buttonSoundOff.visible=!1,this.initAudio()}startHelpState(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("HelpState",{musicOn:this.musicOn}))}initAudio(){this.sfxMusic=this.sound.add("music_menu"),this.sfxMusic.play(),this.sfxMusic.stop(),this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!0:this.sfxMusic.mute=!1,this.sfxMusic.setLoop(!0))}toggleAudio(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.musicOn?(this.sfxMusic.mute=!0,this.musicOn=!1,this.buttonSoundOn instanceof a.GameObjects.Sprite&&(this.buttonSoundOn.visible=!1),this.buttonSoundOff instanceof a.GameObjects.Sprite&&(this.buttonSoundOff.visible=!0)):(this.sfxMusic.mute=!1,this.musicOn=!0,this.buttonSoundOn instanceof a.GameObjects.Sprite&&(this.buttonSoundOn.visible=!0),this.buttonSoundOff instanceof a.GameObjects.Sprite&&(this.buttonSoundOff.visible=!1)))}}s.default=u},12:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s};Object.defineProperty(s,"__esModule",{value:!0});const a=o(e(260)),l={big:"img_powerup_bar_big",fast:"img_powerup_ball_fast",multi:"img_powerup_ball_multi",slow:"img_powerup_ball_slow",small:"img_powerup_bar_small"};class u extends a.Physics.Arcade.Sprite{constructor(t,s,e,i){super(t,s,e,""),t.add.existing(this),t.physics.world.enable(this),this.body.setSize(40,20),this.body.setOffset(0,0),this.body.onCollide=!0,this.powerupType=i,super.setTexture(l[this.powerupType])}getType(){return this.powerupType}}s.default=u},69:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s};Object.defineProperty(s,"__esModule",{value:!0});const a=o(e(260)),l=e(688),u={active:!1,key:"PreInitState",visible:!1};class h extends a.Scene{constructor(){super(u)}preload(){this.load.baseURL=l.baseURL,this.load.image("img_load","assets/img/loading.png")}create(){this.scene.start("InitState")}}s.default=h},477:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s};Object.defineProperty(s,"__esModule",{value:!0});const a=o(e(260)),l=e(806),u={active:!1,key:"RewardState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class h extends a.Scene{constructor(){super(u),this.musicOn=!0,this.startup="",this.backToVideoSelectState=!1,this.backToBonusSelectState=!1,this.lfbWon=!1,this.yaplaWon=!1,this.klsWon=!1,this.blankWon=!1}init({musicOn:t,startup:s,backToVideoSelectState:e,backToBonusSelectState:i,lfbWon:n,yaplaWon:o,klsWon:a,blankWon:l}){this.musicOn=t,this.startup=s,this.backToVideoSelectState=e,this.backToBonusSelectState=i,this.lfbWon=n,this.yaplaWon=o,this.klsWon=a,this.blankWon=l}create(){l.GameAnalytics.addBusinessEvent("EUR",1,"Reward","Video",this.startup);const t=this.add.video(275,200,this.startup);t.setDisplaySize(550,t.height*(550/t.width)),t.play(!1),t.on("complete",(()=>this.startLevelsState()),this),t.setPaused(!1);const s=this.add.sprite(275,375,"img_button_external_link");if(s.setInteractive({useHandCursor:!0}),s.on("pointerdown",(()=>this.openExternalLink()),this),this.backToVideoSelectState){const t=this.add.sprite(500,375,"img_button_back");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.startVideoSelectState()),this)}else if(this.backToBonusSelectState){const t=this.add.sprite(500,375,"img_button_back");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.startBonusSelectState()),this)}else{const t=this.add.sprite(500,375,"img_button_back");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.startLevelsState()),this)}}openExternalLink(){window.open("https://www.youzful-by-ca.fr/creation-compte/pro","_blank")}startVideoSelectState(){this.scene.start("VideoSelectState",{musicOn:this.musicOn,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon})}startBonusSelectState(){this.scene.start("BonusSelectState",{musicOn:this.musicOn,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon})}startLevelsState(){this.scene.start("LevelsState",{musicOn:this.musicOn,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon})}}s.default=h},54:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s};Object.defineProperty(s,"__esModule",{value:!0});const a=o(e(260)),l={active:!1,key:"VideoSelectState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class u extends a.Scene{constructor(){super(l),this.lfbWon=!1,this.yaplaWon=!1,this.klsWon=!1,this.blankWon=!1,this.musicOn=!0}init({musicOn:t,lfbWon:s,yaplaWon:e,klsWon:i,blankWon:n}){this.musicOn=t,this.lfbWon=s,this.yaplaWon=e,this.klsWon=i,this.blankWon=n}create(){this.add.image(275,200,"img_background"),this.add.image(275,100,"img_videos_title");const t=this.add.sprite(275,170,"img_button_play_LFB");t.setInteractive({useHandCursor:!0}),t.on("pointerdown",(()=>this.startLFBRewardState()),this);const s=this.add.sprite(275,215,"img_button_play_YAPLA");s.setInteractive({useHandCursor:!0}),s.on("pointerdown",(()=>this.startYAPLARewardState()),this);const e=this.add.sprite(275,260,"img_button_play_KLS");e.setInteractive({useHandCursor:!0}),e.on("pointerdown",(()=>this.startKLSRewardState()),this);const i=this.add.sprite(275,305,"img_button_play_BLANK");i.setInteractive({useHandCursor:!0}),i.on("pointerdown",(()=>this.startBLANKRewardState()),this);const n=this.add.sprite(275,350,"img_button_back");n.setInteractive({useHandCursor:!0}),n.on("pointerdown",(()=>this.startLevelsState()),this),this.buttonSoundOn=this.add.sprite(480,30,"sound_on"),this.buttonSoundOn.setInteractive({useHandCursor:!0}),this.buttonSoundOn.on("pointerdown",(()=>this.toggleAudio()),this),this.buttonSoundOff=this.add.sprite(480,30,"sound_off"),this.buttonSoundOff.setInteractive({useHandCursor:!0}),this.buttonSoundOff.on("pointerdown",(()=>this.toggleAudio()),this),this.musicOn?(this.buttonSoundOn.visible=!0,this.buttonSoundOff.visible=!1):(this.buttonSoundOff.visible=!0,this.buttonSoundOn.visible=!1),this.initAudio()}startLFBRewardState(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("RewardState",{musicOn:this.musicOn,startup:"lfb",backToVideoSelectState:!0,backToBonusSelectState:!1,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}startYAPLARewardState(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("RewardState",{musicOn:this.musicOn,startup:"yapla",backToVideoSelectState:!0,backToBonusSelectState:!1,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}startKLSRewardState(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("RewardState",{musicOn:this.musicOn,startup:"kls",backToVideoSelectState:!0,backToBonusSelectState:!1,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}startBLANKRewardState(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("RewardState",{musicOn:this.musicOn,startup:"blank",backToVideoSelectState:!0,backToBonusSelectState:!1,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}startLevelsState(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.scene.start("LevelsState",{musicOn:this.musicOn,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}initAudio(){this.sfxMusic=this.sound.add("music_levels"),this.sfxMusic.play(),this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0,this.sfxMusic.setLoop(!0))}toggleAudio(){this.sfxMusic instanceof a.Sound.WebAudioSound&&(this.musicOn?(this.sfxMusic.mute=!0,this.musicOn=!1,this.buttonSoundOn instanceof a.GameObjects.Sprite&&(this.buttonSoundOn.visible=!1),this.buttonSoundOff instanceof a.GameObjects.Sprite&&(this.buttonSoundOff.visible=!0)):(this.sfxMusic.mute=!1,this.musicOn=!0,this.buttonSoundOn instanceof a.GameObjects.Sprite&&(this.buttonSoundOn.visible=!0),this.buttonSoundOff instanceof a.GameObjects.Sprite&&(this.buttonSoundOff.visible=!1)))}}s.default=u},679:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s,"__esModule",{value:!0});const l=o(e(260)),u=e(806),h=a(e(976)),d=a(e(981)),r=a(e(2)),c=a(e(156)),f=a(e(12)),b={active:!1,key:"YAPLAGameState",physics:{arcade:{debug:!1,gravity:{y:0}},default:"arcade"}};class p extends l.Scene{constructor(){super(b),this.lives=3,this.level=1,this.levelWidth=8,this.levelHeight=6,this.lfbWon=!1,this.yaplaWon=!1,this.klsWon=!1,this.blankWon=!1}init({musicOn:t,lfbWon:s,yaplaWon:e,klsWon:i,blankWon:n}){this.musicOn=t,this.lfbWon=s,this.yaplaWon=e,this.klsWon=i,this.blankWon=n}create(){this.initUi(),this.initGameObjects(),this.initAudio(),this.changeLevel()}initUi(){this.add.image(275,200,"img_background"),this.buttonSoundOn=this.add.sprite(480,30,"sound_on"),this.buttonSoundOn.setInteractive({useHandCursor:!0}),this.buttonSoundOn.on("pointerdown",(()=>this.toggleAudio()),this),this.buttonSoundOff=this.add.sprite(480,30,"sound_off"),this.buttonSoundOff.setInteractive({useHandCursor:!0}),this.buttonSoundOff.on("pointerdown",(()=>this.toggleAudio()),this),this.musicOn?(this.buttonSoundOn.visible=!0,this.buttonSoundOff.visible=!1):(this.buttonSoundOff.visible=!0,this.buttonSoundOn.visible=!1),this.levelText=this.add.text(150,17,"LEVEL : YOUZFUL JEUNES",{fill:"#92cd00",fontFamily:"gotham",fontSize:"24px"}),this.livesText=this.add.text(4,17,`LIVES : ${this.lives}`,{fill:"#92cd00",fontFamily:"gotham",fontSize:"24px"})}initGameObjects(){this.lava=new d.default(this,275,390),this.add.existing(this.lava),this.bricks=new l.Physics.Arcade.StaticGroup(this.physics.world,this),this.balls=new l.Physics.Arcade.Group(this.physics.world,this),this.powerups=new l.Physics.Arcade.Group(this.physics.world,this),this.bar=new r.default(this,275,340,1)}initAudio(){this.sfxSpeedUp=this.sound.add("speed_up"),this.sfxSlowDown=this.sound.add("slow_down"),this.sfxSmaller=this.sound.add("smaller"),this.sfxMultiball=this.sound.add("multiball"),this.sfxBigger=this.sound.add("bigger"),this.sfxBounce=this.sound.add("bounce"),this.sfxBreak=this.sound.add("break"),this.sfxDirt=this.sound.add("dirt"),this.sfxExplode=this.sound.add("explode"),this.sfxMusic=this.sound.add("music_YAPLA"),this.sfxMusic.play(),this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.musicOn?this.sfxMusic.mute=!1:this.sfxMusic.mute=!0,this.sfxMusic.setLoop(!0));const t=this.sound.add("lava");this.musicOn&&t.play()}toggleAudio(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.musicOn?(this.sfxMusic.mute=!0,this.musicOn=!1,this.buttonSoundOn instanceof l.GameObjects.Sprite&&(this.buttonSoundOn.visible=!1),this.buttonSoundOff instanceof l.GameObjects.Sprite&&(this.buttonSoundOff.visible=!0)):(this.sfxMusic.mute=!1,this.musicOn=!0,this.buttonSoundOn instanceof l.GameObjects.Sprite&&(this.buttonSoundOn.visible=!0),this.buttonSoundOff instanceof l.GameObjects.Sprite&&(this.buttonSoundOff.visible=!1)))}endLevel(){this.sfxMusic instanceof l.Sound.WebAudioSound&&(this.sfxMusic.stop(),this.yaplaWon=!0,this.scene.start("LevelClearedState",{musicOn:this.musicOn,startup:"yapla",lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))}changeLevel(){this.level<=10&&(this.lava.lavaEmitter.setSpeed({max:100+10*this.level,min:50+10*this.level}),this.lava.lavaEmitter.setLifespan({max:500+50*this.level,min:100+30*this.level})),this.bar.setBarSize(0),this.balls.clear(!0,!0),this.createBall(275,300,!0),this.bricks.clear(!0,!0),this.makeBricks(this.levelWidth,this.levelHeight),this.powerups.clear(!0,!0),this.createColliders()}createColliders(){this.createCollider(this.bricks,this.balls,this.collideBrickBall.bind(this)),this.createCollider(this.balls,this.bar,this.collideBallBar.bind(this)),this.createCollider(this.powerups,this.bar,this.collidePowerupBar.bind(this)),this.createCollider(this.balls,this.lava,this.collideBallLava.bind(this)),this.createCollider(this.powerups,this.lava,this.collidePowerupLava.bind(this))}createCollider(t,s,e){this.physics.add.collider(t,s,e,void 0,this)}makeBricks(t,s){let e=0;for(let i=0;i<t;i+=1)for(let t=0;t<s;t+=1){if(1===t&&(2===i||5===i))continue;if(3===t&&(1===i||6===i))continue;if(4===t&&(2===i||3===i||4===i||5===i))continue;const s=["blue","brown","red","yellow"],n=l.Math.Between(0,3);let o=null;1===l.Math.Between(0,10)?(o=new h.default(this,0,0,"white"),e+=1):n<4&&(o=new h.default(this,0,0,s[n])),o&&(o.x=45+64*i,o.y=70+24*t,this.bricks.add(o))}e>0||(this.bricks.clear(!0,!0),this.makeBricks(t,s))}update(){this.bar.update(),this.lives<=0&&(this.sfxMusic.stop(),this.lives=3,this.sfxMusic instanceof l.Sound.WebAudioSound&&(u.GameAnalytics.addProgressionEvent(u.EGAProgressionStatus.Fail,"yapla"),this.scene.start("GameOverState",{musicOn:this.musicOn,lfbWon:this.lfbWon,yaplaWon:this.yaplaWon,klsWon:this.klsWon,blankWon:this.blankWon}))),this.bricks.getLength()<=0&&this.endLevel(),this.balls.getChildren().forEach((t=>{t instanceof c.default&&t.isWaiting()&&(t.x=this.bar.x)})),this.livesText.setText(`LIVES : ${this.lives}`),this.levelText.setText("LEVEL : YOUZFUL JEUNES")}makeExplosion(t,s,e,i,n,o,a){const u=this.add.particles(a).createEmitter({});u.setFrame([0,1,2,3],!0),u.setSpeed(n),u.setGravity(0,o),u.setScale(.7),u.setLifespan({max:600,min:200});const h={quantity:1,source:new l.Geom.Rectangle(-e/2,-i/2,e,i),type:"random"};u.setEmitZone(h),u.explode(10,t,s)}createPowerup(t,s,e,i,n){const o=new f.default(this,t,s,e);this.powerups.add(o),o.body instanceof l.Physics.Arcade.Body&&o.body.setVelocity(i,n)}createBall(t,s,e){const i=new c.default(this,t,s,e);return this.balls.add(i),i.body instanceof l.Physics.Arcade.Body&&(i.body.setCollideWorldBounds(!0),i.body.setVelocity(0),i.body.bounce.setTo(1,1)),i}collideBrickBall(t){if(!(t instanceof h.default))return;const{x:s,y:e,width:i,height:n}=t;switch(t.getBrickType()){case"blue":this.makeExplosion(s,e,i,n,100,80,"img_particles_blue");break;case"brown":this.musicOn&&this.sfxDirt.play(),this.makeExplosion(s,e,i,n,40,50,"img_particles_brown");break;case"red":this.makeExplosion(s,e,i,n,80,80,"img_particles_red"),this.bricks.add(new h.default(this,s,e,"blue"));break;case"yellow":this.musicOn&&this.sfxExplode.play(),this.makeExplosion(s,e,i,n,200,50,"img_particles_yellow");break;case"white":this.makeExplosion(s,e,i,n,50,70,"img_particles_white"),this.createPowerup(s,e,(()=>{const t=["slow","fast","multi","big","small"];return t[l.Math.Between(0,t.length-1)]})(),0,60);break;default:console.warn("Invalid brick id ",t.getBrickType())}this.musicOn&&(this.sfxBounce.play(),this.sfxBreak.play()),this.bricks.remove(t,!0,!0)}collideBallBar(t,s){t instanceof r.default&&s instanceof c.default&&(this.musicOn&&this.sfxBounce.play(),s.hitBar(t.x))}collidePowerupBar(t,s){if(t instanceof r.default&&s instanceof f.default){switch(s.getType()){case"slow":this.balls.getChildren().forEach((t=>{t instanceof c.default&&t.body instanceof l.Physics.Arcade.Body&&t.body.setVelocity(.8*t.body.velocity.x,.8*t.body.velocity.y)})),this.musicOn&&this.sfxSlowDown.play();break;case"fast":this.balls.getChildren().forEach((t=>{t instanceof c.default&&t.body instanceof l.Physics.Arcade.Body&&t.body.setVelocity(1.2*t.body.velocity.x,1.2*t.body.velocity.y)})),this.musicOn&&this.sfxSpeedUp.play();break;case"multi":this.balls.getChildren().forEach((t=>{if(t instanceof c.default&&t.body instanceof l.Physics.Arcade.Body&&!t.waiting){const s=this.createBall(t.x,t.y,!1);s.body instanceof l.Physics.Arcade.Body&&s.body.setVelocity(-t.body.velocity.x,t.body.velocity.y)}})),this.musicOn&&this.sfxMultiball.play();break;case"big":t.setBarSize(1),this.musicOn&&this.sfxBigger.play();break;case"small":t.setBarSize(-1),this.musicOn&&this.sfxSmaller.play();break;default:console.warn("Invalid powerup id ",s.getType())}this.powerups.remove(s,!0,!0)}}collideBallLava(t,s){s instanceof c.default&&(this.balls.remove(s,!0,!0),0===this.balls.getLength()&&(this.createBall(275,300,!0),this.removeLife()))}collidePowerupLava(t,s){s instanceof f.default&&this.powerups.remove(s,!0,!0)}removeLife(){this.lives-=1}}s.default=p},752:function(t,s,e){var i=this&&this.__createBinding||(Object.create?function(t,s,e,i){void 0===i&&(i=e),Object.defineProperty(t,i,{enumerable:!0,get:function(){return s[e]}})}:function(t,s,e,i){void 0===i&&(i=e),t[i]=s[e]}),n=this&&this.__setModuleDefault||(Object.create?function(t,s){Object.defineProperty(t,"default",{enumerable:!0,value:s})}:function(t,s){t.default=s}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var e in t)"default"!==e&&Object.prototype.hasOwnProperty.call(t,e)&&i(s,t,e);return n(s,t),s},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s,"__esModule",{value:!0}),s.game=void 0;const l=o(e(260)),u=a(e(367)),h=a(e(263)),d=a(e(732)),r=a(e(679)),c=a(e(379)),f=a(e(764)),b=a(e(439)),p=a(e(54)),m=a(e(548)),y=a(e(354)),v=a(e(770)),g=a(e(557)),S=a(e(477)),_=a(e(992)),O={backgroundColor:"#006f50",dom:{createContainer:!0},height:400,parent:"game-container",scene:[a(e(69)).default,v.default,g.default,_.default,h.default,d.default,r.default,c.default,f.default,b.default,S.default,y.default,u.default,p.default,m.default],type:l.AUTO,width:550};s.game=new l.Game(O)},688:(t,s)=>{var e,i,n;Object.defineProperty(s,"__esModule",{value:!0}),s.baseURL=void 0;const o=window.location.toString().replace(/[^/]*$/gu,""),a=null!==(n=null===(i=null===(e=document.querySelector('script[src$="app.js"]'))||void 0===e?void 0:e.getAttribute("src"))||void 0===i?void 0:i.replace("app.js",""))&&void 0!==n?n:"";s.baseURL=`${o}${a}`}},s={};function e(i){if(s[i])return s[i].exports;var n=s[i]={exports:{}};return t[i].call(n.exports,n,n.exports,e),n.exports}e.m=t,e.o=(t,s)=>Object.prototype.hasOwnProperty.call(t,s),(()=>{var t={143:0},s=[[752,809]],i=()=>{};function n(){for(var i,n=0;n<s.length;n++){for(var o=s[n],a=!0,l=1;l<o.length;l++){var u=o[l];0!==t[u]&&(a=!1)}a&&(s.splice(n--,1),i=e(e.s=o[0]))}return 0===s.length&&(e.x(),e.x=()=>{}),i}e.x=()=>{e.x=()=>{},a=a.slice();for(var t=0;t<a.length;t++)o(a[t]);return(i=n)()};var o=n=>{for(var o,a,[u,h,d,r]=n,c=0,f=[];c<u.length;c++)a=u[c],e.o(t,a)&&t[a]&&f.push(t[a][0]),t[a]=0;for(o in h)e.o(h,o)&&(e.m[o]=h[o]);for(d&&d(e),l(n);f.length;)f.shift()();return r&&s.push.apply(s,r),i()},a=self.webpackChunkyouzful_game=self.webpackChunkyouzful_game||[],l=a.push.bind(a);a.push=o})(),e.x()})();